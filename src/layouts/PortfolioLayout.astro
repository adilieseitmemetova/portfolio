---
import Project from '../components/Project.astro';

const { t } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{t.metaTitle}</title>
		<meta name="description" content={t.metaDescription} />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Imperial+Script&display=swap"
			rel="stylesheet"
		/>
		<script is:inline>
			if ('scrollRestoration' in history) {
				history.scrollRestoration = 'manual';
			}
			window.addEventListener('load', () => {
				window.scrollTo(0, 0);

				const codeEl = document.querySelector('.hero-subtitle-code');
				if (!codeEl) return;

				const prefersReducedMotion =
					window.matchMedia &&
					window.matchMedia('(prefers-reduced-motion: reduce)').matches;

				if (prefersReducedMotion) return;

				const fullText = (codeEl.textContent || '').trim();
				codeEl.textContent = '';

				let index = 0;
				const typeSpeed = 90;
				const startDelay = 1800;
				const pauseBeforeDot = 620;
				const dotIndex = fullText.lastIndexOf('.') >= 0
					? fullText.lastIndexOf('.') + 1
					: -1;

				const typeNext = () => {
					if (index > fullText.length) return;
					codeEl.textContent = fullText.slice(0, index);
					index += 1;
					if (index <= fullText.length) {
						const isBeforeDot =
							dotIndex !== -1 && index === dotIndex;
						const delay = isBeforeDot ? pauseBeforeDot : typeSpeed;
						setTimeout(typeNext, delay);
					}
				};

				setTimeout(typeNext, startDelay);
			});
		</script>
	</head>
	<body>
		<header class="site-header">
			<div class="container header-content">
				<a href="/" class="logo">
					<span>{t.logo}</span>
				</a>
				<nav class="nav">
					<a href="#home">{t.navHome}</a>
					<a href="#about">{t.navAbout}</a>
					<a href="#projects">{t.navProjects}</a>
					<a href="#contact">{t.navContact}</a>
				</nav>
			</div>
		</header>

		<main id="home">
			<section class="hero">
				<div class="container hero-content">
					<div class="hero-inner">
						<span class="hero-badge">AI lover</span>
						<h1 class="hero-title">{t.heroTitle}</h1>
						<p class="hero-subtitle">
							<span class="hero-subtitle-main">
								{t.heroSubtitleMain}
							</span>
							<span class="hero-subtitle-connector">
								{t.heroSubtitleConnector}
							</span>
							<span class="hero-subtitle-code">
								{t.heroSubtitleCode}
							</span>
						</p>
						<p class="hero-location">{t.heroLocation}</p>
						<div class="hero-actions">
							<a href="#projects" class="btn primary">
								{t.heroPrimaryCta}
							</a>
							<a href="#contact" class="btn secondary">
								{t.heroSecondaryCta}
							</a>
						</div>
					</div>
				</div>
			</section>

			<section id="projects" class="project-showcase">
				<Project
					title={t.projectFeaturedTitle}
					dates={t.projectFeaturedDates}
					description={t.projectFeaturedDescription}
					tags={t.projectFeaturedTags}
					imageSrc="/images/1_DYSG/DYSG_cover.jpg"
					imageAlt="Eatcue product cover with mobile app interface"
					href="/projects/dysg"
				/>
			</section>

			<section id="about" class="section">
				<div class="container">
					<h2 class="section-title">{t.aboutTitle}</h2>
					<p class="section-text">{t.aboutText}</p>
				</div>
			</section>

			<section id="contact" class="section">
				<div class="container">
					<h2 class="section-title">{t.contactTitle}</h2>
					<p class="section-text">{t.contactText}</p>
					<ul class="contact-list">
						<li>
							<strong>{t.contactEmailLabel}</strong>
							<span>{t.contactEmailPlaceholder}</span>
						</li>
						<li>
							<strong>{t.contactLocationLabel}</strong>
							<span>{t.contactLocationPlaceholder}</span>
						</li>
					</ul>
				</div>
			</section>
		</main>

		<footer class="site-footer">
			<div class="container footer-content">
				<p>{t.footerCopyright}</p>
			</div>
		</footer>
	</body>

	<style>
		:global(body) {
			margin: 0;
			font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
				sans-serif;
			color: #000000;
			background: #ffffff;
			min-height: 100vh;
			cursor: url('/images/cursor-circle.png') 16 16, auto;
		}

		:global(a) {
			color: inherit;
			text-decoration: none;
			cursor: url('/images/cursor-circle.png') 16 16, pointer;
		}

		:global(a:hover) {
			text-decoration: underline;
		}

		.site-header {
			position: sticky;
			top: 0;
			z-index: 10;
			background: rgba(255, 255, 255, 0.9);
			backdrop-filter: blur(12px);
			border-bottom: 1px solid rgba(209, 213, 219, 0.8);
		}

		.container {
			max-width: 960px;
			margin: 0 auto;
			padding: 0 1rem;
		}

		.header-content {
			display: flex;
			align-items: center;
			justify-content: space-between;
			height: 64px;
			color: #000000;
		}

		.logo {
			font-weight: 600;
			letter-spacing: 0.08em;
			font-size: 0.9rem;
			text-transform: uppercase;
		}

		.nav {
			display: flex;
			gap: 1.5rem;
			font-size: 0.9rem;
		}

		.nav a {
			color: #000000;
			text-decoration: none;
		}

		.nav a:hover {
			color: #000000;
		}

		.lang-switcher {
			display: flex;
			align-items: center;
			gap: 0.5rem;
			font-size: 0.8rem;
			color: #000000;
		}

		.lang-label {
			text-transform: uppercase;
			letter-spacing: 0.08em;
		}

		.lang-link {
			padding: 0.15rem 0.35rem;
			border-radius: 999px;
			text-decoration: none;
		}

		.lang-link.is-active {
			background: #6366f1;
			color: white;
		}

			.hero {
				min-height: calc(100vh - 64px);
				padding: 0;
				color: #000000;
				background: #ffffff;
				display: flex;
				align-items: center;
			}

			.hero-content {
				max-width: 640px;
				margin: 0 auto;
				text-align: center;
			}

			.hero-inner {
				display: flex;
				flex-direction: column;
				align-items: center;
			}

			.hero-title {
				font-size: clamp(2.5rem, 6vw, 3.5rem);
				font-weight: 700;
				margin: 0;
				opacity: 0;
				transform: translateY(24px);
				animation: heroFadeUp 0.6s ease-out forwards;
				animation-delay: 0.1s;
			}

			.hero-badge {
				position: relative;
				display: inline-flex;
				align-items: center;
				justify-content: center;
				padding: 0.15rem 0.8rem;
				border-radius: 999px;
				font-size: 0.65rem;
				letter-spacing: 0.18em;
				text-transform: uppercase;
				margin-bottom: 1.1rem;
				opacity: 0;
				transform: translateY(-24px) scale(0.85);
				transform-origin: center;
				background: linear-gradient(135deg, #6366f1, #ec4899, #f97316);
				background-size: 220% 220%;
				animation:
					heroBadgeMagnet 0.8s cubic-bezier(0.22, 1, 0.36, 1) 4.4s forwards,
					heroBadgeGradient 6s ease-in-out 5.2s infinite alternate;
				color: #ffffff;
				border: 1px solid rgba(255, 255, 255, 0.6);
				box-shadow: 0 10px 25px rgba(15, 23, 42, 0.2);
				overflow: hidden;
				white-space: nowrap;
			}

			.hero-badge::before {
				content: '';
				position: absolute;
				inset: 0;
				background: radial-gradient(
					circle at 0 0,
					rgba(255, 255, 255, 0.7),
					transparent 60%
				);
				mix-blend-mode: screen;
				opacity: 0.9;
			}

			.hero-subtitle {
				margin-top: 0;
				font-size: clamp(2.5rem, 6vw, 3.5rem);
				color: #000000;
				white-space: nowrap;
				line-height: 1.15;
				margin-bottom: 1rem;
			}

			.hero-subtitle-main {
				font-family: 'Imperial Script', system-ui, -apple-system,
					BlinkMacSystemFont, 'Segoe UI', sans-serif;
				font-weight: 400;
				letter-spacing: 0;
				font-size: 1.3em;
				display: inline-block;
				opacity: 0;
				transform: translateY(24px);
				animation: heroFadeUp 0.55s ease-out forwards;
				animation-delay: 0.8s;
			}

			.hero-subtitle-connector {
				margin-left: 0.4em;
				color: #000000;
				font-weight: 700;
				display: inline-block;
				opacity: 0;
				transform: translateY(24px);
				animation: heroFadeUp 0.55s ease-out forwards;
				animation-delay: 1.3s;
			}

			.hero-subtitle-code {
				margin-left: 0.1em;
				font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
					'Liberation Mono', 'Courier New', monospace;
				font-size: 0.9em;
				display: inline-block;
				opacity: 0;
				transform: translateY(24px);
				border-right: 0.08em solid currentColor;
				animation:
					heroFadeUp 0.55s ease-out forwards,
					caretBlink 1s step-end infinite;
				animation-delay: 1.8s, 2.4s;
			}

			.hero-location {
				margin-top: 0.25rem;
				font-size: 1.1rem;
				font-weight: 300;
				color: gray;
				opacity: 0;
				transform: translateY(24px);
				animation: heroFadeUp 0.6s ease-out forwards;
				animation-delay: 3.4s;
			}

			.hero-actions {
				display: flex;
				justify-content: center;
				gap: 1rem;
				margin-top: 1.75rem;
				opacity: 0;
				transform: translateY(24px);
				animation: heroFadeUp 0.6s ease-out forwards;
				animation-delay: 3.9s;
			}

			@keyframes heroFadeUp {
				from {
					opacity: 0;
					transform: translateY(24px);
				}

				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			@keyframes caretBlink {
				from,
				to {
					border-color: transparent;
				}

				50% {
					border-color: currentColor;
				}
			}

			@keyframes heroBadgeMagnet {
				0% {
					opacity: 0;
					transform: translateY(-40px) scale(0.9);
				}

				60% {
					opacity: 1;
					transform: translateY(0) scale(1.12);
				}

				80% {
					transform: translateY(-3px) scale(0.96);
				}

				100% {
					opacity: 1;
					transform: translateY(0) scale(1);
				}
			}

			@keyframes heroBadgeGradient {
				0% {
					background-position: 0% 50%;
					box-shadow: 0 10px 25px rgba(15, 23, 42, 0.18);
				}

				50% {
					background-position: 100% 50%;
					box-shadow: 0 14px 30px rgba(15, 23, 42, 0.26);
				}

				100% {
					background-position: 0% 50%;
					box-shadow: 0 10px 25px rgba(15, 23, 42, 0.18);
				}
			}

		.btn {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			padding: 0.75rem 1.4rem;
			border-radius: 999px;
			font-size: 0.95rem;
			border: 1px solid transparent;
			cursor: url('/images/cursor-circle.png') 16 16, pointer;
			text-decoration: none;
			box-sizing: border-box;
			transition:
				background 0.15s ease,
				color 0.15s ease,
				border-color 0.15s ease;
		}

		.btn.primary {
			background: #000000;
			color: #ffffff;
		}

		.btn.primary:hover {
			background: #111827;
		}

		.btn.secondary {
			background: transparent;
			color: #000000;
			border-color: rgba(156, 163, 175, 0.6);
		}

		.section {
			padding: 3.5rem 0;
			background: #ffffff;
			color: #000000;
		}

		.section-alt {
			background: #f9fafb;
			border-top: 1px solid rgba(209, 213, 219, 0.8);
			border-bottom: 1px solid rgba(209, 213, 219, 0.8);
		}

		.section-title {
			font-size: 1.5rem;
			margin: 0 0 1rem;
		}

		.section-text {
			max-width: 640px;
			margin: 0;
			color: #000000;
			font-size: 0.95rem;
			line-height: 1.7;
		}

		.contact-list {
			list-style: none;
			padding: 0;
			margin: 1.5rem 0 0;
			display: grid;
			gap: 0.75rem;
			font-size: 0.95rem;
			color: #000000;
		}

		.contact-list strong {
			display: inline-block;
			min-width: 5rem;
		}

		.site-footer {
			border-top: 1px solid rgba(209, 213, 219, 0.8);
			background: #f9fafb;
			color: #000000;
			font-size: 0.8rem;
		}

		.footer-content {
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 1.5rem 0;
		}

		@media (prefers-reduced-motion: reduce) {
			.hero-title,
			.hero-subtitle,
			.hero-subtitle-main,
			.hero-subtitle-connector,
			.hero-subtitle-code,
			.hero-location,
			.hero-actions,
			.hero-badge {
				animation: none !important;
				opacity: 1 !important;
				transform: none !important;
			}
		}

		@media (max-width: 640px) {
			.header-content {
				gap: 1rem;
			}

			.nav {
				display: none;
			}

			.hero {
				min-height: auto;
				padding-top: 4.5rem;
				padding-bottom: 3rem;
				align-items: flex-start;
			}

			.hero-content {
				max-width: 100%;
			}

			.hero-title {
				font-size: 2.1rem;
			}

			.hero-subtitle {
				font-size: 1.8rem;
				white-space: normal;
			}

			.hero-location {
				font-size: 0.95rem;
			}

			.hero-actions {
				flex-direction: column;
				align-items: stretch;
			}

			.hero-actions .btn {
				width: 100%;
				max-width: 100%;
			}
		}
	</style>
</html>
